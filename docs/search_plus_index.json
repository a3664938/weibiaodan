{"./":{"url":"./","title":"帮助手册说明","keywords":"","body":"微表单帮助手册 以下内容正在逐步完善中，如某个页面为空，则说明该文档正在编辑中，如确实需了解其功能，请联系研发中心-宋祺。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"快速入门/快速入门.html":{"url":"快速入门/快速入门.html","title":"快速入门","keywords":"","body":"微表单控件-重要属性汇总 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"快速入门/新手入门.html":{"url":"快速入门/新手入门.html","title":"新手入门","keywords":"","body":"新手入门 如何使用微表单？ 确定3个基础问题，即可秒懂微表单的基础功能与使用方法。 需要收集数据还是发起流程？ → 如何收集数据？ & 如何发起流程？ → 如何设置成员操作权限？ 1. 普通表单设计 表单目前有两种类型，一种是普通表单，「普通表单」具有数据收集与协作的功能，「流程表单」具有流程审批功能。首先要想好创建哪种类型的表单，然后确定需要收集哪些数据，并根据数据类型添加相应字段制作成一个表单。 「普通表单」设计过程如下： 2. 流程表单设计 当表单需要多方参与、按一定顺序提交数据时，就要用到「流程」。那么上一步的表单创建时就选择「新增流程表单」来创建。 管理员提前设置好流程的节点，负责人和数据流转的路径。一旦数据提交后，就会进入流程，按照流程的设定进行流转。「流程表单」创建过程如下： 3. 权限设计 表单设计好以后就可以给不同的成员分配不同的数据处理权限了，发布表单即赋予成员提交数据/发起流程的权限。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"快速入门/普通表单VS流程表单.html":{"url":"快速入门/普通表单VS流程表单.html","title":"普通表单 VS 流程表单","keywords":"","body":"普通表单 VS 流程表单 1. 如何选择 「普通表单」：填报数据，并带有数据协作功能，如修改，删除，导入，导出，并可以给不同的人不同的管理权限； 「流程表单」：填报数据，并带有流程审批功能，适合报销、请假申请或其他工作流； 2. 表单 如果只是需要简单的填写数据，无需流程，那可以直接选择新增表单。 表单中的「分配权限」，侧重于对已经录入的数据进行管理，可以让不同的人、对不同的数据范围、有不同的管理权限。 常见的使用场景为： 业务员只能查看、修改自己提交的数据（目前默认只能查看自己提交的数据）；经理可以查看、修改所有业务员提交的数据（正在实现） 3. 流程 「流程表单」可以录入数据，侧重于数据录入的过程，即按照预先设置好的路线进行流转，实现多人有顺序、有规则的完成一条数据的录入。 常见的使用场景为： 审批 工序流程 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/基础设置.html":{"url":"基础设置/基础设置.html","title":"基础设置","keywords":"","body":"基础设置 在微表单中，发挥数据收集作用的是「表单」。 日常工作中所说的数据上报、报名、申请、信息收集等等，涉及到填写数据的，都是通过表单来实现。 基础设置中分为表单设计、流程设计（流程表单）、分配权限、表单发布。 其中表单设计主要分为3个步骤 （1）添加控件，把需要收集哪些数据都列出来做成控件。 （2）配置数据联动、公式、选项关联设置等等功能，使得数据收集过程更加方便。 （3）设置表单属性。 表单中需要添加控件，控件的名字就是需要收集哪些方面的数据，控件的框内就是用来填写数据的地方。 收集上来的数据，存储在表单中，在数据管理中可以看到所有的数据。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/控件.html":{"url":"基础设置/控件.html","title":"控件","keywords":"","body":"控件 微表单目前有21个控件，控件类型的选择非常重要，关系到函数、联动、关联等高级功能是否可用。 使用合适的控件类型，对于表单设计、数据收集、数据分析都有着重要的影响。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/控件说明.html":{"url":"基础设置/控件说明.html","title":"控件说明","keywords":"","body":"控件说明 1. 控件 通过控件来设计表单。从左侧选择一个控件拖动（或点击）至中间表单设计界面，在右侧配置控件属性。 2. 复制 控件可以复制。 3. 删除 4. 控件属性 （1）标题 指该控件的名称，其默认值为控件类型。 （2）描述信息 对该控件的解释或说明，可输入文字、设置颜色、添加图片和超链接。 （3）布局 指该控件的布局方式。可以设定控件宽度和控件位置，使表单具有灵活的排布方式 （4）默认值 指用户在访问表单时，该控件的默认显示的值。部分控件可设置自定义、数据联动、公式编辑。 自定义即预设好一个值 关联其他表单数据和数据联动具体操作方法见文档中的 「数据联动」 公式编辑具体操作方法见文档中的「公式」 （5）校验 指该控件的校验。部分控件可设置是否必填、是否允许重复值、是否允许小数。 （6）操作权限 即用户在访问表单时，对该控件的操作权限。控件可设置是否可见、是否可编辑（流程表单在流程节点处设置）。 （7）显示 用户可在此设置表单提交页控件是隐藏还是可见，且可设置为当前控件根据某控件的值来自动控制隐藏还是可见。 （8）格式 在单行文本控件中，控件预设的数据格式，起到控件校验的作用。如选择手机号码，必须输入11位数字才能提交数据。 在数字控件中，控件默认为无格式。也可选择显示为百分比，千分位两种格式。 在控件中，控件对齐方式可控制文本在页面中的左右位置，现有左对齐、右对齐两种模式，未选择时默认为左对齐。 在子表单内控件中，控件表头对齐方式可控制子表单内控件文字对齐方式，默认为左对齐，也可以选择居中、右对齐，一共三种对齐方式。 （9）选项 针对下拉、单、复选框的选项设置，目前支持自定义、数据联动、关联其它表单数据、关联第三方数据、第三方导入。 （10）视图模式 针对复选框控件的属性 （11）类型 针对日期时间控件的属性 （12）上传样式 针对附件控件的属性在此设置是否支持附件批量上传功能。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/单行文本.html":{"url":"基础设置/单行文本.html","title":"单行文本","keywords":"","body":"单行文本 1. 格式 在单行文本控件中，系统预设的数据格式，起到控件校验的作用。目前仅支持中国范围的数据校验： （1）手机号码： 必须为现存真实手机号前3位+8位纯数字，共11位纯数字 （2）身份证号： 18位数字17位数字 + x(大小写不限制)15位数字 注意：出生年月日位置处必须为符合年月日规则的数字，比如19900630为正确值，而19900631则为错误值，验证不通过，因为6月不可能有31号。 （3）邮政编码： 6位数字 （4）邮箱： xxx@xxx.xxx 2. 应用举例 不需要、不适合加减乘除计算的数字，用单行文本来录入，比如手机号码、身份证号、员工编号、银行卡号、会员号等等。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/多行文本.html":{"url":"基础设置/多行文本.html","title":"多行文本","keywords":"","body":"多行文本 多行文本用于录入较长的文字，如说明、备注。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/日期时间.html":{"url":"基础设置/日期时间.html","title":"日期时间","keywords":"","body":"日期控件 1. 类型 选择日期，则录入时为年月日的格式；选择日期时间，则录入时为年月日时分秒的格式 2. 默认值 指用户在访问表单时，默认显示的值。填写自定义、数据联动、公式编辑。 自定义，在下方选中一个日期，作为预设好的值。 数据联动，即这个日期字段的值是根据某个字段从另一个表单中调用过来的。点击参考「数据联动」 公式编辑，即这个日期字段的值是由公式来自动计算出的。点击参考「公式」 3. 应用举例 （1）点击查看函数用法，「日期函数」 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/数字.html":{"url":"基础设置/数字.html","title":"数字","keywords":"","body":"数字 数字字段是专门录入数字的。和文本不同的是，数字字段录入的数字，可以参与计算，可以统计，可以进行汇总等。 1. 默认值 可选择自定义、数据联动、关联第三方数据源、公式编辑四种选项。 2. 格式 默认为无格式。 也可选择显示为百分比，千分位两种格式。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/附件.html":{"url":"基础设置/附件.html","title":"附件","keywords":"","body":"附件 附件字段专门用来上传文件， 1. 控件属性 （1）上传样式 上传按钮文案可自定义进行修改。 是否支持多选文件 默认上传单个文件；若需要上传的文件有多个，可选择上传多个文件。 （2）操作、显示权限 设置是否可编辑及是否可见。 在表单的「数据管理」、「权限组」或者报表的「数据表」中，即可预览附件中的文件。目前，支持在线预览的常见文件类型有： 图片类：jpg，jpeg，png，gif 其他格式暂不支持在线预览。PC端图片类预览支持放大、缩小和旋转；同时，右上角有下载按钮，可以下载上传的附件。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/单选框.html":{"url":"基础设置/单选框.html","title":"单选框/下拉列表","keywords":"","body":"单选框、下拉列表 单选框、下拉列表，预先设置好选项，在录入数据的时候直接进行选择，只可单选。 1. 选项 选项下有四种设置方式： 自定义 数据联动 关联其他表单数据 关联第三方数据源 （1）自定义 新增 添加其他选项 批量编辑 「第三方导入」 （2）数据联动 就是根据当前表单某个字段的值获取联动表单中某个符合筛选条件的字段的值。 具体设置方法详见「数据联动」 （3）关联其他表单数据 用当前表单字段（单选/下拉列表）关联某个表单中的某个字段，可以很方便的将关联表单中的数据拉到当前表单中来使用。比如：货币字典；报销时需要用到的合同编号等。 具体设置方法详见「数据联动」 （4）关联第三方数据源 与第三方导入类似，详见「第三方数据源」 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/复选框.html":{"url":"基础设置/复选框.html","title":"复选框/下拉复选","keywords":"","body":"复选框、下拉复选 复选框、下拉复选，预先设置好选项，在录入数据的时候直接进行选择，可多选。 复选框、下拉复选设置与单选框、下拉列表设置一样，请参考单选、下拉列表设置方法，这里不再赘述。 二者区别：复选框是没有顺序的，下拉复选是有顺序的，比如先选择「选项2」，再选择「选项1」，在复选框中的值就是「选项1,选项2」，但是在下拉复选框中就是「选项2,选项1」。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/分割线.html":{"url":"基础设置/分割线.html","title":"分割线","keywords":"","body":"分割线 分割线通常用于对下文做出说明、解释；或者将表单分成不同的部分，使得结构更加清晰。将分割线拖拽到目标区域，右侧描述信息中输入对应说明即可。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/开关.html":{"url":"基础设置/开关.html","title":"开关","keywords":"","body":"微表单简介 1. 控件属性 （1）开关样式 可设置按钮样式大小，默认和小两种选中。 选中时的内容和非选中时的内容可任意更改。 （2）操作、显示权限 设置是否可编辑及是否可见。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/树形选择.html":{"url":"基础设置/树形选择.html","title":"树形选择","keywords":"","body":"树形选择 1. 控件属性 树形选择必须关联第三方数据源才可使用。 （1）选择模式 可对数值进行多选或者单选。 （2）校验 树形选择是否必填。 （3）数据源 关联第三方数据源。可参考：「第三方数据源」 从第三方数据源导入。可参考： 「第三方系统」 （4）父级id参数 默认为 parentld。 （5）操作权限 设置是否可编辑。 （6）显示 设置是否可见。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/关联数据.html":{"url":"基础设置/关联数据.html","title":"关联数据","keywords":"","body":"微表单简介 关联数据可以看作是功能更强的数据联动，支持同时联动显示多个字段。 1. 控件属性 （1）关联表 选择想要关联数据的那张表。 （2）关联字段 选择需要显示关联表中的哪些字段。 （3）关联条件 通过与当前表单的字段进行联动，对关联表的数据进行过滤，在关联字段中显示出符合限定条件的数据。 如果数据过滤条件有多个，在查询时，只显示满足所有条件的数据；若只满足部分条件，则不显示任何数据。 当参与数据过滤条件的当前表单字段为空时，不显示任何数据。 （4）显示 设置是否可见。 （5）表单布局 遵循表单布局设置。如果显示字段是子表单，则直接忽略布局设置而占据一整行。 2. 应用举例 （1）有一张「订单表」，填写客户订单。 （2）在「订单查询」中，通过关联数据，进行商品出售的数据录入。 条件：只能显示对应区域有的商品，不在本区域的商品信息不能显示出来。 另建一张商品明细表单，添加相关字段。其中，商品明细表单的子表单内，添加关联数据字段。 （3）看下效果 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/关联查询.html":{"url":"基础设置/关联查询.html","title":"关联查询","keywords":"","body":"关联查询 关联查询，可以自动查询出其他表单中的对应的一条关联数据。 1. 控件属性 （1）关联表 选择想要关联数据的那张表。 （2）关联字段 选择需要显示关联表中的哪些字段。 （3）关联条件 通过与当前表单的字段进行联动，对关联表的数据进行过滤，在关联字段中显示出符合过滤条件的数据。 如果数据过滤条件有多个，则在查询时，条件不可为空且只显示同时满足所有条件的数据。 （4）关联表操作 勾选以后，当我们在表单中使用关联数据/关系查询选择其他表单中的数据发现没有目标数据时，可以直接点击新建，在关联数据/关联查询的源表单中添加数据。 （5）显示权限 设置是否可见。 （6） 表单布局 遵循表单布局设置。如果显示字段是子表单，则直接忽略布局设置而占据一整行。 2. 使用规则 （1）关联查询出的数据不入库，即在数据管理和数据表中无法直接显示出来，只能在编辑数据时显示。 （2）关联查询可以设置数据过滤条件，即凭借哪个/哪些条件去查询数据。如凭「订单号」查询对应的「客户姓名、订单明细、总金额」。 （3）如果关联字段数据过滤条件有多个，则只查询出满足所有条件的数据。 3. 应用举例 （1）有一张「订单表」，填写客户订单。 （2）在「订单查询」表单中，通过关联查询字段，凭「手机号」联动出「订单编号」，在凭「订单号」查询唯一对应的「客户姓名、订单明细、总金额等订单明细」。 另建一张查询表单，添加作为查询的字段。 添加关联查询字段，进行设置。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/流水号.html":{"url":"基础设置/流水号.html","title":"流水号","keywords":"","body":"流水号 表单设计中经常涉及编码的制作问题，因此为大家提供了流水号字段，通过流水号字段即可轻松实现编码的自动生成。 一个表单只能添加一个流水号字段 1. 控件属性 流水号的字段权限只有「可见」，默认不勾选。 2. 流水号规则 流水号规则中可以添加「提交日期」、「自动计数」、 「固定字符」和「表单字段」。 自动计数值默认必选的。 （1）提交日期 提交日期可以从以下几种「预定义格式」中进行选择。 （2）自动计数 计数位数 通过计数位数可以限制流水号最大计数值，当达到计数位数时则重新开始计数。如，当设置的计数位数为5，当计数达到99999时，则从0开始计数。 计数位数设置范围为2～12。 重置周期 设置了重置周期以后，当满足重置周期后将会以初始值再重新开始计数。 例如： 不自动重置 也就是添加了多少位计数位数，一直会计数下去，直到这个计数位数的最大值。 每日重置 不管今天计数到多大的数值，明天从00:00时刻开始，都从设置的初始值重新计数。 初始值 初始值指的是计数的初始数值，也就是从哪一个数字开始计数。初始值系统默认为1。 固定位数 默认开启，点击可切换开启、关闭状态。开启后则显示固定的位数，如，当计数位数为5，当前计数为1时，那么流水号显示则为00001；若未开启，则流水号显示为1。 （3）固定字符 为了区分不同业务的流水号，常常会在流水号中添加固定字符。 （4）表单字段 在使用流水号设计中，可能需要使用到表单中的字段来作为流水号的组成部分，那么添加表单字段即可实现。目前支持表单中的单行文本、数字、下拉框、单选按钮组作为流水号组成成分。 3. 案例应用 拿进销存管理为例，我们怎么给每一笔出入订单设计一个流水号呢？ 首先我们创建一个入库表（出库表），并添加流水号字段，样式如下。 然后我们开始设计流水号生成规则。 流水号的自动计数是必选项，不可删除。 我们先设置号自动计数规则。 如，我们需要计数位数6位，从1开始计数，而且每天不能重新计数。那么计数位数这里我们就设置如下样式： 然后我们再添加一个提交日期，可以从单号里区分出是哪月提交的入库表信息。 添加完以后同样需要对他的格式进行设置，这边我们可以选择预定格式，如：201912 为了更好的区分不同的业务订单，那么入库单我们可以给他再加一个固定字符。 然后我们再看一下预览效果。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/地址.html":{"url":"基础设置/地址.html","title":"地址","keywords":"","body":"地址 地址字段专门用来录入地址，省、市、区可以直接选择。可显示详细地址。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/子表单.html":{"url":"基础设置/子表单.html","title":"子表单","keywords":"","body":"子表单 子表单，适用于录入数据的格式一定但次数不定的情况。 格式一定，是指设计好子表单的字段； 次数不定，是指在录入数据时可以新建记录，而且新建记录的次数是不限制的。 注意：很多情况下，一些用户为了横向布置表单，使用子表单字段，这其实没有发挥出子表单的功能，反而给后续计算等带来困扰，所以选择的时候一定要功能是否符合的角度考虑。 1. 控件属性 子表单的字段属性，是将子表单作为一个字段整体来生效的。 （1）添加子字段、删除、排序。 （2）关联类型 默认为无，也可关联本地数据、第三方数据。 关联本地数据：通过关联本地表单数据，选择关联字段并设置关联条件，相对应的字段会显示在子表单内。 关联第三方数据源。可参考： 「第三方数据源」 （3）默认值 整个子表单的默认值。 （4）操作及显示权限 整个子表单是否可见、是否可编辑。 （5）表头对其方式 可控制子表单内控件文字对齐方式，默认为左对齐，也可以选择居中、右对齐，一共三种对齐方式。 2. 子字段设置 点击子字段，进行设置。设置完之后，一定要记得保存。 3. 多表头表格 只支持设置两级多表头。 在已创建的子表单内放入容器控件，再在容器下选取自己需要的控件，选好后，将所需要控件放入子表单的容器内，即可。 4. 应用举例 有一张报名表，明细里包含「项目」「课时金额」「课时数量」「小计」「折扣」「折后价格」字段。其中，「项目」和「课时金额」字段，调用项目信息表的数据。 （1）做项目信息表，「项目」为单行文本，「课时金额」为数字，并录入数据。 （2）报名表中，用子表单记录明细。添加字段，「项目」为下拉框，「课时金额」「课时数量」「小计」「折后价格」为数字。 （3）「项目」，设置关联其它表单数据，调用信息表中的项目数据。 （4）「课时金额」，设置数据联动，以项目为条件，调用信息表中的对应数据。当子表单中的项目选定之后，课时金额中会联动出对应的数据。 （5）「课时数量」，录入时自填，没有其他设置。如果你的数据有小数，一定要记得勾选允许小数。 （6）「小计」，设置编辑公式。既然是函数运算得到的数据，取消勾选可编辑，即不可改动计算出来的值。如果你的数据有小数，一定要记得勾选允许小数。 5. 子表单常见函数 （1）子表单里的一列的和。函数为，SUM(子表单.字段)。 注意如果要对子表单的字段进行求和，这个字段「总计」必须位于主表中，不能添加到另一个子表单中。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/成员控件.html":{"url":"基础设置/成员控件.html","title":"成员控件","keywords":"","body":"成员控件 成员控件可以直接读取通讯中的姓名，在使用时，可以把成员控件看做一个单选/多选按钮，根据配置的可选范围，选择某个/某些成员姓名。 1. 控件属性 （1）成员单选 成员多选 成员单选，则录入数据时只能选择一个成员；成员多选，则录入数据时可以选择多位成员。 （2）可选范围 即在录入数据时，成员控件的可选范围。 简单的理解，把成员控件当成一个普通的下拉框。可选范围就是这个下拉框里的选项，设置了哪些，在录入数据时就可以选择哪些成员。 可选范围中包括自定义和由部门字段确定 （1）自定义 可选部门、职责、动态参数。 设置了部门，即可选该部门里的成员： 在录入数据时，可以直接在「当前用户」这一栏中选择自己。 （2）由部门控件确定 如果表单中有部门控件的话，成员控件的可选范围可以根据部门控件的值来确定。 如果部门控件的值为A，则成员控件中只显示部门A里的成员，以供选择。 （3）默认值 即成员控件默认显示的值。 （4）校验 必填，成员控件值为空时不允许提交。 （5）操作权限 可编辑，勾选则填写表单时可以编辑，反之不可编辑。 （6）显示 可见/隐藏/条件显示，用来控制在填写表单时该控件是否可见，及某种情况下可见。 2. 应用场景 （1）内部投票，一人限制一次 成员控件的「默认值」设置为 动态参数-当前用户 如果成员控件设置为「不可见」，则表单属性中的「不可见控件赋值」选择「始终重新计算」 （2）数据联动 成员控件可以作为主联动控件，设置数据联动。 注意：被关联的表单中，也必须是对应的成员控件 可参考： 「数据联动」 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/部门控件.html":{"url":"基础设置/部门控件.html","title":"部门控件","keywords":"","body":"部门组件 部门字段可以直接读取通讯中的组织架构，在使用时，可以把部门字段看做一个单选/多选按钮，根据配置的可选范围，选择某个/某些部门。 1. 控件属性 （1）部门单选 部门多选 部门单选，则录入数据时只能选择一个部门；部门多选，则录入数据时可以选择多个部门。 （2）可选范围 即在录入数据时，部门字段的可选范围。 简单的理解，把部门字段当成一个普通的下拉框。可选范围就是这个下拉框里的选项，设置了哪些，在录入数据时就可以选择哪些部门。 自定义 包括部门或当前登录用户所处部门。 如果没有设置可选范围，填写数据时默认显示所有部门可选。 设置了部门，就可以从设置的部门里选择。 数据联动 部门字段的可选范围，可以通过数据联动来确定。数据联动出的值，作为此部门字段的可选项，以供选择。 可参考：「数据联动」 （3）默认值 仅当可选范围为自定义时，显示默认值设置项，可选择具体某个部门（从上面规定的可选范围之内选择）和当前用户所处部门。 「部门单选」：若默认值设置为当前用户所处部门，而用户在多个部门时，只显示一个部门。 「部门多选」：若默认值设置为当前用户所处部门，而用户在多个部门时，会显示所有部门。 常见用法：把部门字段的可选范围和默认值，设置为当前用户所处部门。 如下图，刘世佳同时处于公司领导、财务部这两个部门里。用部门字段直接取出所在部门，单选只显示一个，多选会显示全部。 （4）校验 必填，部门字段值为空时不允许提交；不允许重复值，则部门字段的值出现重复则无法提交表单。 （5）操作权限 可见，勾选则填写表单时可见，反之不可见。可编辑，勾选则填写表单时可以编辑，反之不可编辑。 开启了流程的话，操作权限以流程为准。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/数据联动.html":{"url":"基础设置/数据联动.html","title":"数据联动","keywords":"","body":"数据联动 关联其他表单数据和数据联动是使用率非常高的一项功能，可以用来对另一张表单中已经录入的数据，进行直接调用，或者有条件地调用。 详细讲解请看以下内容：⇣⇣⇣ 本章内容： 数据联动规则 一级联动 多级联动 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/数据联动规则.html":{"url":"基础设置/数据联动规则.html","title":"数据联动规则","keywords":"","body":"数据联动规则 1. 名词解释 关联其他表单数据和数据联动，两者的功能都是在一个表单中调用另一个表单或聚合表中录入的数据。区别在于，前者是直接调用所有数据，后者是只调用满足一定条件的数据。 （1）关联其他表单数据 就是在一张表单的下拉框字段中，直接调用另一张表单曾经录入过的数据。 其意义是，某个下拉框，调用另一个表单中的某个字段里录入的值作为选项。 被调用的数据可以是单行文本，数字，也可以是下拉框、下拉复选框、单选/复选按钮、日期时间、地址等。 常见用法：A表为客户信息表，记录了包括客户名称等在内的基础信息；B表为订单表，录入客户下的订单数据，其中客户名称设置关联其他表单数据，直接调用A表中已经录入过的客户名称。 （2）数据联动 是数据关联的延伸，简单地说就是有条件的关联，根据条件字段的值调用出对应的数据。 当某一个字段的内容需要跟着上一个字段的变化而自动填写或自动改变选项的时候，数据联动就可以发挥作用了。 常见用法：第一个下拉框选择江苏省，第二个下拉框只能选择江苏省对应的城市；第一个下拉框选择浙江省，第二个下拉框只能选择浙江省对应的城市。或者选择了某个商品名称或编号后，下面的空格自动填入该商品的价格。这样的应用就是数据联动。 2. 注意事项 （1）调用另外一张表单的数据，所以肯定会涉及到两张表单。A表录入数据，B表调用A表中录入的数据。 （2）当调取出来的值有多个时，需要用下拉框在进行选择；如果是唯一的，可以根据需要用单行文本、数字字段、日期字段。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/一级联动.html":{"url":"基础设置/一级联动.html","title":"一级联动","keywords":"","body":"一级联动 人事信息表」中包括员工编号、姓名、年龄、部门等多个字段。 另一张「奖金表」中也包括这4个字段，需要实现输入员工编号，如果这个员工编号在信息表录入过，那么对应的姓名、部门、年龄就会直接显示出来。 员工编号确定之后，对应的姓名、部门、年龄都可以确定。因此设置三个一级联动，员工编号—姓名；员工编号—部门；员工编号—年龄。 1. 建立「人事信息表」 其中「员工编号」为单行文本，「姓名」为单行文本，「部门」为下拉框，「年龄」为数字字段 2. 建立一张「奖金表」 通过填写员工编号，来联动调用「人事信息表」中的相关信息。「员工编号」用单行文本，「姓名」用单行文本，「部门」用单行文本，「年龄」用数字字段，「日期」用日期字段，「奖金」用数字字段 说明：输入员工编号，自动联动出姓名、年龄、手机号码和部门信息，无需一一填写。 前提：「人事信息表」中已录入该员工编号。 3. 数据联动 （1）「姓名」用单行文本，因为一个员工编号对应的姓名只有一个数据。设置数据联动「员工编号-姓名」 （2）「部门」用单行文本，因为一个员工编号对应的部门只有一个数据。设置数据联动「员工编号-部门」 （3）「年龄」用数字字段，因为一个员工编号对应的年龄也只有一个数据。设置数据联动「员工编号-年龄」 这样就设置好了。我们来看一看效果： 4. 进一步优化 当然，案例中的「员工编号」是不做设置，让填表的人直接录入的。如果不想录入，也可以用下拉框，设置关联其他表单数据，直接调用人事信息表中的员工编号字段。这样，填表人就不需要自行录入员工编号，直接点开下拉框，进行选择就好了。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/多级联动.html":{"url":"基础设置/多级联动.html","title":"多级联动","keywords":"","body":"多级联动 「项目信息表」中包括项目、级别、课程时间、课时金额等4个字段。 另一张「报名表」中也包括这4个字段，通过项目—级别—课程时间，联动出对应的课时金额。 项目-级别-课程时间，所对应的课时金额不一样，也就是说，课时金额的值是由项目-级别-课程时间这三个字段共同决定的。 。 1. 建立「项目信息表」 录入数据。其中「项目」「级别」「课程时间」为下拉框，「课时金额」为数字字段。 2. 建立「报名表」 通过选择项目-级别-上课时段，来联动调用「项目信息表」中的对应的课时金额。「项目」「级别」「上课时段」下拉框，「课时金额」用数字字段。其他字段不再做具体说明。 3. 数据联动 (1)「项目」用下拉框，设置关联其他表单数据，因为只需要直接调用项目信息表中的项目字段的数据。 (2)「级别」用下拉框，设置数据联动，根据项目的值来决定级别中的选项。即「项目-级别」联动### 可以看下效果预览： ！！！！后补图 (3)「上课时段」用下拉框，设置数据联动，根据项目-级别的值来决定课程时间中的选项。因为上一步骤中，项目-级别的联动已经建立好了，所以只需要继续往下嵌套联动，即「级别-课程时间」联动。 ！！！！后补图后补图 (4)「课时金额」用数字字段，设置数据联动，根据项目-级别-上课时段的值来决定课时金额的数值。因为上两步骤中，项目-级别-上课时段的联动已经建立好了，所以只需要继续往下嵌套联动，即「上课时段-课时金额」联动 (5)总结一下，多级联动，就是多次嵌套的联动，「项目—级别/级别—上课时段/上课时段—课时金额」，逐层筛选后得到的课时金额的数据，就是由前面的「项目」「级别」「上课时段」共同决定的 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/第三方数据源/第三方数据源.html":{"url":"基础设置/第三方数据源/第三方数据源.html","title":"第三方数据源","keywords":"","body":"第三方数据源 第三方数据源可以通过接口的方式将本系统之外的数据引入本系统，为本系统服务。此功能拓展了本系统的适用范围同时很好的兼容了企业在用系统的数据。 第三方数据源使用流程： 新增数据源 --> 发布数据源 --> 使用数据源（关联/导入） 1. 新增数据源 （1）入口 （2）新增数据源 名称 您将要新增的第三方系统提供的接口名称，自定义，用于区别不同的第三方数据源。 URL地址 您将要新增的第三方系统提供的接口地址，第三方系统提供。 请求方式 Get/Post请求方式，需要选择http请求方式，请求方式不同 可选参数列表 中传输类型不同。 接口模式 接口模式有三类，对应不同的业务场景。 获取 用来获取第三方系统数据的接口。比如，获取现有系统的字典、业务数据等。 推送 用来推送表单数据到第三方系统的接口。比如，某个表单新增一条数据后，会同时推送这条数据到指定的第三方系统。 校验 用来在提交表单数据时，验证所提数据是否符合第三方系统所制定的规则。比如，在提交年休假单时，用来校验所填年休假是否小于等于可修年假。 可选参数列表 参数名 参数名需根据所提供的第三方接口的参数名来确定，假设第三方接口需要入参ID，则这里参数名即为ID。 传输类型 这里根据 请求方式 会有不同的设置： Get请求： 可选 Header 或者 URL Post请求： 可选 Header 或者 Body 参数类型 有三类，分别如下： 固定 即该第三方数据源的该入参为固定值，新增此数据源时，需要同时设定 参数值 ，在使用这个数据源时，只能传递新增数据源时设定的 参数值 ，而无法自定义这个参数的值。 动态 即该第三方数据源的该入参为动态值，新增此数据源时，无需设定 参数值 ，在使用这个数据源时，需要在表单中指定某个控件来传递这个参数的值。 第三方系统 当 参数类型 选择 第三方系统 时，会弹出 选择第三方系统 的弹窗。这个功能主要是用来获取某些需要权限才能访问的第三方数据源，比如某些接口需要Token才能访问，这里就是用来设置获取Token的配置页面。 这里的 系统 URL 都是已经配置好的，在这里只需要进行选择。查看 「第三方系统」 配置详情。 参数值 只有参数类型选择的是 固定 时，这里填的参数值才有意义。 以上信息填写好之后，点击【下一步】（只有当 接口模式 选择 获取 时，才需要 【下一步】 ，否则直接 【完成】 数据源新增），进入 字段配置 页面。 在此页面对获取到的数据进行设置。 这里需要注意的地方有3处： 主键 需要选择一个唯一值作为主键。 控件类型 此设置需要选中某个具体字段后，才会显示 决定使用该数据源时，该字段的数据类型，会影响公式计算等。比如，如果字段设置为日期时间，则此字段不能参加四则运算。 中文描述 此设置需要选中某个具体字段后，才会显示 这里可以设置该字段的中文名称，便于区分该数据源的不同字段。 完成以上步骤后，点击【下一步】，进入数据源预览页，确认没有问题后，点击【完成】，完成数据源的新增。 2. 发布数据源 数据源只有在发布之后，才可以被使用。 3. 关联第三方数据源 关联第三方数据源： 实时获取第三方数据源信息。 目前可以使用 关联第三方数据源 的控件有 单行文本，数字，单选框，复选框，下拉列表，下拉复选，树形选择，关联数据，关联查询，子表单。 根据数据源返回值的不同选择的控件就不同： （1）一层一个值 如果数据源返回以上这种结构的数据，则可以选用 单行文本，数字，关联数据，关联查询以 单行文本 为例来详细说明： 添加 单行文本 控件, 并进入关联第三方数据源设置页面。 确定第三方数据源所需入参： 添加所需入参的对应控件： 关联第三方数据源： （2）一层多个值 如果数据源返回以上这种结构的数据，则可以选用 单选框，复选框，下拉列表，下拉复选，关联数据，子表单。 设置步骤与 单行文本 基本一致，这里就不再赘述。 （3）多层多个值 这里的多层多个值需要解释下，我们微表单目前不支持超过两层的返回数据，这里多层的意思是：根据返回的数据，取其中一个值（父节点id）作为入参，再次发起请求，这时候返回了下一层数据（子节点数据），这就是多层多个值的意思。这种数据其实是一种树形结构，所以这种数据我们专门提供了一个控件 树形选择。 树形选择： 添加 树形选择 控件，并进入关联第三方数据源设置页面。 关联第三方数据源： 修改父节点参数名 注意：如果第三方数据源不需要设置父节点入参，则不需要修改父节点参数名！ 4. 从第三方数据源导入 从第三方数据源导入： 设计表单时获取第三方数据源信息，设计好之后，固化第三方数据源信息于微表单，之后该表单中 从第三方数据源导入 的控件从微表单获取数据，不再从第三方数据源实时获取数据。 目前可以使用 从第三方数据源导入 的控件有 单选框，复选框，下拉列表，下拉复选，树形选择。前四种配置方法一样，以 下拉列表 为例来说明；树形选择 单独讲解。 下拉列表： 添加 下拉列表 控件，并进入 第三方导入 设置页面。 导入第三方数据： 树形选择： 添加 树形选择 控件，并进入 第三方导入 设置页面。 导入第三方数据： 注意：如果需要选到下级选项，则必须先展开，再选中，否则保存后无法展开！ Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/公式.html":{"url":"基础设置/公式/公式.html","title":"公式","keywords":"","body":"公式 给表单中的某个字段编辑公式后，在填写表单或修改表单数据时，可以使该字段的值根据公式自动计算出来，不需要再手动填写。 公式的灵活应用，对于数据收集有很多作用： 可以提高填写表单的效率，将一些数据自动计算出来，减少需要填写的内容如：分数在90以上时等级为A，否则为B。那么在输入分数之后，等级是A或B就能根据公式自动判断出来。 可以减少错误如：总工资=基础工资+奖金-扣款。那么在基础工资、奖金、扣款输入之后，总工资就能根据公式自动计算出来，避免手工计算出错。 本章内容： 公式规则 逻辑函数 文本函数 数学函数 日期函数 高级函数 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/公式规则.html":{"url":"基础设置/公式/公式规则.html","title":"公式规则","keywords":"","body":"公式规则 公式，可以使该字段的值根据公式 自动计算出来，不需要再手动填写。 给例如编辑完单价和数量后，自动计算总价等这样的业务场景提供了支撑。 那么如何写公式呢？本文就会介绍一下公式的规则。 1. 公式在哪里设置 目前支持编辑公式的字段有3个：「单行文本」、「数字」和「日期时间」。 进入表单设计页面，选中可编辑公式的字段，在字段属性中找到默认值，把默认值的类型改成“公式编辑”，然后在其下方会出现“编辑公式”按钮，点击即可编辑公式。 2. 公式的组成 公式通常由字段、函数、运算符和标点符号组成。 需要注意的是，如果需要在公式中插入字段，应在公式编辑窗口左下角的字段列表中点击该字段，而不是手动输入字段名称。 因为所有的字段，实际上都有一个内置的ID，而所能看见的字段名称，也仅仅是一个名称，所以当公式需要将字段值作为变量的时候，手动输入或复制粘贴都是无效的，因为字段名可以重复。 公式内所有出现的符号，都需要在英文状态下输入。 3. 公式规则 （1）在当前/全部表单中点选字段 公式所要用到的字段，绝大多数情况下是从当前表单字段中选择。 只有 MAPX 函数的最后2个参数会用到全部表单字段。 提醒：从当前表单字段中点选的字段是蓝色的，从所有表单字段中点选的字段是橙色的。 （2）运算符号 公式中，除了支持基本的运算操作符+、-、*、/，还支持比较操作符>、==、 加 减 乘 除 大于 小于 等于 不等于 大于等于 小于等于 + - * / > = != >= 提醒：微表单公式中的等于应该用 == ，而不是 = 。 （3）函数大写 在使用函数的时候，请用纯大写字母。输入函数时会自动联想，正确的函数会显示为紫色。 （4）数据类型匹配 编写公式时，需要注意数据类型的问题： 注意函数的参数的数据类型 要按照函数的要求，保证参数的数据类型的正确。 例如，求和函数SUM，该函数要求所有参数都必须是数字类型。 所以对于公式 SUM(字段1,字段2) ，字段1和字段2都需要是数字字段才行，如果字段1是文本字段，就会导致公式无法计算出结果。 注意公式的返回值的数据类型 在对字段编辑公式时，不同的字段对公式的返回值的数据类型有不同的要求，不符合要求则可能无法获得正确的结果。 例如，对数字字段编写公式时，数字字段要求返回值的数据类型必须是数字，那么如果公式是 TODAY() , 则公式计算出的结果返回的是一串数字，此时TODAY函数的返回值是时间戳；如果在单行文本字段内使用函数 TODAY() ，则返回的是中国标准时间。 支持编辑公式的表单字段对公式的返回值的数据类型的要求： 字段 对公式返回值的数据类型的要求 单行文本 文本、数字、日期等 数字 只能是数字 日期时间 日期或数字（数字会视为单位为毫秒的时间戳） 扩展阅读（建议进阶用户阅读）： 上文提到了不同字段对公式返回值的数据类型的要求，会发现单行文本的返回值并不仅限于文本，可以是数字等。 这是因为在微表单中支持部分数据类型之间的自动转换，数字2可以自动转换为文本2，任何数字都可以这样轻易转换。 但是文本就不行了，文本\"张三\"就没法转换成数字，所以数字字段要求其公式的返回值只能是数字。 编写公式时，我们可以插入字段到公式中，插入到公式中的字段的数据类型和字段对公式返回值的数据类型并非完全相同。 例如，上文提到了单行文本编写公式时，公式的返回值可以是数字，但是在公式中插入单行文本字段时，该单行文本的数据类型只会是文本。 常见字段插入公式后的数据类型如下表所示： 字段 插入公式时的数据类型 单行文本 文本 数字 只数字 日期时间 ISODATE格式的时间 下拉框 文本 单选框 文本 下拉复选 数组 复选框 数组 成员组件 数组 部门组件 数组 开关 布尔值 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/逻辑函数.html":{"url":"基础设置/公式/逻辑函数.html","title":"逻辑函数","keywords":"","body":"逻辑函数 逻辑函数，是一类返回值为逻辑值true或逻辑值false的函数。 true：代表判断后的结果是真的，正确的，也可以用1表示； false：代表判断后的结果是假的，错误的，也可以用0表示。 AND AND(logical1, [logical2], …) 在参数组中，任何一个参数逻辑值为false，即返回false；只有当所有参数逻辑值为true，才返回true。 即是说，AND函数，是求括号里两个或多个逻辑式子共同满足true（逗号隔开的逻辑式子都满足）的时候，返回的结果为1，即true。 IF(AND(A,B,C),D,E)，表示如果同时满足条件A,B,C,则返回D，否则返回E OR OR(logical1,[logical2], …) 在参数组中，任何一个参数逻辑值为true，即返回true；只有当所有逻辑参数值为false，才返回false。 和AND函数一样，不同的地方在于，括号里只要有1个逻辑式为true，返回的结果就是1，也就是true。 IF(OR(A,B,C),D,E)，表示如果满足条件A，或者满足条件B,或者满足条件C（即3个条件中满足一个或一个以上）,则返回D，否则返回E。 FALSE FALSE() 返回逻辑值false。 TRUE TRUE() 返回逻辑值true。 IF IF(判断条件，结果为true的返回值, 结果为false的返回值) 判断一个条件能否满足；如果满足返回一个值，如果不满足则返回另外一个值。 IF(A,B,C)，表示如果满足条件A，那么返回B，否则返回C。 （1）IF函数支持多层嵌套 如下图： 60以下，为不及格；60-79，为中；80-89，为良；90以上，为优。 （2）IF应用于下拉框/单选按钮组 如下图： （3）IF用于下拉复选框/复选框组 如下图： NOT NOT(logical) 对参数逻辑值求反。 NOT比较简单，就是把括号里为true的值变成false，括号里为false的值变为true。 XOR XOR(logical1,[logical2], …) 返回所有参数的异或值。 异或的含义是，两个值相同，返回0(false)，两个值不同，返回1(true)。 ISEMPTY ISEMPTY(text) 判断值是否为空字符串、空对象或者空数组。 以下三种方式，均表示该“单选”字段为空值。（注意，判断的是该单选字段被编辑后是否为空值） CONTAIN CONTAIN(...args,target,trueVal,falseVal) 当 ...args 是字符串时（默认为字符串） 判断 target 是否与 ...args 完全相同，相同返回 trueVal ，否则返回 falseVal 。 当 ...args 是数组时 判断 target 是否与 ...args 中某一个相同，相同返回 trueVal ，否则返回 falseVal 。 应用举例1： 文本类控件 应用举例2： 子表单中控件 NOTCONTAIN NOTCONTAIN(...args,target,trueVal,falseVal) 此函数与CONTAIN函数逻辑上完全相反，用法同CONTAIN函数。 DISTINCT DISTINCT(array) 去掉数组中重复的项。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/文本函数.html":{"url":"基础设置/公式/文本函数.html","title":"文本函数","keywords":"","body":"文本函数 处理字符串文本的一系列函数方法。 CONCAT CONCAT(text1,[text2], …) 将多个文本字符串合并成一个文本字符串。示例： CONCAT(A,B,C)，即返回值为ABC 字段或者函数之间，用逗号隔开。如果是字符串，需要用引号包裹起来。 CHAR CHAR(number) 返回计算机字符集的数字代码所对应的字符。示例： CHAR(10)，即返回值为换行字符。 目前微表单仅支持以下数字代码： Number 字符 含义 9 \\t 制表符tab 10 \\n 换行字符 34 \" 双引号 39 ’ 单引号 92 \\ 反斜杠 EXACT EXACT(text1,text2) 比较两个字符串是否完全相同（区分大小写）。完全相同则返回true，否则返回false。示例： LEFT LEFT(text,[num_chars]) 从一个文本字符串的第一个字符开始返回指定个数的字符。 LEN LEN(text) 返回文本字符串中的字符个数(长度)。 LOWER LOWER(text) 将一个文本字符串中的所有大写字母转换为小写字母。 REPLACE REPLACE(oldtext*, startnum*, numchars*, newtext*) 根据指定的字符数，将部分文本字符串替换为不同的文本字符串。 old_text: 必需。要替换其部分字符的文本。 start_num: 必需。old_text中要替换为new_text的字符位置。 num_chars: 必需。old_text中希望使用new_text来进行替换的字符数。 new_text: 必需。将替换old_text中字符的文本。REPLACE(字符串1,2,4,字符串2)，即将字符串1中的第2位之后的4位（即2,3,4,5位），用字符串2来替换。 REPT REPT(text, number_times) 将文本重复一定次数。 text: 必需。需要重复显示的文本。 Number_times: 必需。用于指定文本重复次数的正数。 SEARCH SEARCH(findtext,withintext,[start_num]) 在第二个文本字符串中查找第一个文本字符串，并返回第一个文本字符串的起始位置的编号，该编号从第二个文本字符串的第一个字符算起。返回0则表示未查找到。 find_text: 必需。要查找的文本。 within_text: 必需。要在其中搜索find_text参数的值的文本。 start_num: 可选。within_text参数中从之开始搜索的字符编号。 RIGHT RIGHT(text,[num_chars]) 返回文本值中最右边的字符。 text: 必需。包含要提取字符的文本字符串。 num_chars: 可选。指定希望提取的字符数。 SPLIT SPLIT(text, text_separator) 将文本按指定字符串分割成数组。 用“-”分割文本： 用“-”分割文本，并取第三个字符串： TRIM TRIM(text) （1）删除字符串首尾的空格。 （2）如果字符串内部存在连续多个空格，还会删除至仅剩一个空格。 UPPER UPPER(text) 将一个文本字符串中的所有小写字母转换为大写字母。 MID MID(text, startnum*, numchars*) 返回文本字符串中从指定位置开始的特定数目的字符，该数目由用户指定。 text: 必需。 包含要提取字符的文本字符串。 start_num: 必需。 文本中要提取的第一个字符的位置。 文本中第一个字符的start_num为 1，以此类推。 num_chars: 必需。 指定希望从文本中返回字符的个数。 这个函数将用的比较多，举一个在身份证号中提取生日的例子： TEXT TEXT(num) 将数字转化成文本。 TEXT(num,text_format) 将数字转换成特定格式的文本。 其中text_format的含义如下： ＃：数字占位符。只显有意义的数据而不显示无意义的数据。小数点后数字如大于”#”的数量，则按”#”的位数四舍五入。小数点后数字如小于”#”的数量，则显示实际值。例：在文本框中输入：###.##，23.1显示为23.1，23.1578显示为23.16。 0:数字占位补位符。如果小数点前的数据的长度大于占位符，则显示实际数据，如果小于占位符的数量，则用0补足。小数点后的数据的长度大于占位符，则按“0”的位数四舍五入。小数点后数字如小于”0”的数量，则用“0”补足。例：在文本框中输入：000.00，23.1显示为023.10，23.1578显示为023.16。 ，：千位分隔符。可插入“＃”或“0”中使用，数字中插入千位分隔符。合法使用形式：1.需要在小数点前使用。2.需要在“＃”或“0”之间。 ％：百分比。放在数字占位符或补位符之后。数据以百分比形式显示。例：代码：#%，23.1显示为2310%。 [Num0]显示原始数据。 [Num1]将数字转为中文小写。123显示为一百二十三 [Num2]将数字转为中文大写。123显示为壹佰贰拾叁 直接在[Num0]或＃或0的之前加字符即是前缀，支持中文字符，英文大小写，¥，$,及空格。 可根据自己需要自由组合。 使用举例： 大写： TEXT(date, text_format) 其中text_format的含义如下： yyyy表示年 MM表示月 dd表示日 HH表示24小时制的时 mm表示分 ss表示秒 E表示星期，结果为0~6，分别表示星期日~星期六 EE表示星期，例如：日、一、二等 EEE表示星期，例如：星期日、星期一、星期二等 使用举例： NUM NUM(text) 将文本转化为数字。 ISEMPTY ISEMPTY(text) 判断值是否为空字符串、空对象或者空数组。 以下三种方式，均表示该“单选”字段为空值。（注意，判断的是该单选字段被编辑后是否为空值） 字符串函数综合运用举例 这里给出一个，根据身份证号码自动算性别的函数，笔者水平有限，无法把各种函数的综合运用一一例举，这里用一个典型的函数来给大家启发。 在这个表单里我要输入身份证号码，自动生成性别。单行文本“性别”字段的函数为： 需要解释的是，身份证号码第17位为性别位，奇数为男性，偶数为女性。所以此处我们用两种方式来判断性别。 （1）身份证的第17位数为奇数的时候，返回“男”，否则返回“女”。 （2）身份证的第17位数为1,3,5,7,9的时候，返回“男”，否则返回“女”。 我们看看效果：第17位为1，性别“男”，正确展示如下。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/数学函数.html":{"url":"基础设置/公式/数学函数.html","title":"数学函数","keywords":"","body":"数学函数 处理数字的一系列函数方法。 AVERAGE AVERAGE(number1, [number2], …) 返回参数的平均值（算术平均值）。 COUNT COUNT(value1, [value2], …) 统计参数个数。 COUNTIF COUNTIF(value1, [value2], …, criteria) 统计满足条件的参数个数。 例如： COUNTIF([1,2,3,4], “>2”)，结果为2 COUNTIF([1,2,3,4], “!=2”)，结果为3 COUNTIF([1,2,3,4], “>=1”)，结果为4 COUNTIF([“a”, “b”, “c”], “d”)，结果为0 MAX MAX(number1, [number2], …) 返回一组值中的最大值。 MIN MIN(number1, [number2], …) 返回一组值中的最小值。 用法同MAX函数。 LARGE LARGE(array,k) 返回数据集中第k个最大值。 Array: 必需。 需要确定第k个最大值的数组或数据区域。 k: 必需。 返回值在数组中的位置（从大到小排） SMALL SMALL(array,k) 返回数据集中第k个最小值。 Array: 必需。 需要确定第k个最小值的数组或数据区域 k: 必需。 返回值在数组中的位置（从小到大排）。 用法同LARGE函数。 ABS ABS(number) 返回数字的绝对值。 ROUND ROUND(number, num_digits) 将数字四舍五入到指定的位数。 number: 必需。 要四舍五入的数字。 num_digits: 必需。 要进行四舍五入运算的位数。 CEILING CEILING(number, significance) 返回将参数 number 向上舍入（沿绝对值增大的方向）为最接近的指定基数的倍数。 Number: 必需。 要舍入的值。 significance: 必需。 要舍入到的倍数。 FLOOR FLOOR(number, significance) 将参数number向下舍入为最接近的significance的倍数。 number: 必需。 要舍入的数值。 significance: 必需。 要舍入到的倍数。 用法同CEILING INT INT(number) 将数字向下舍入到最接近的整数。 LOG LOG(number, [base]) 根据指定底数返回数字的对数。 number: 必需。 想要计算其对数的正实数。 base: 可选。 对数的底数。 如果省略 base，则假定其值为 10。 MOD MOD(number, divisor) 返回两数相除的余数。 结果的符号与除数相同。 number: 必需。 要计算余数的被除数。 divisor: 必需。 除数。 POWER POWER(number, power) 返回数字乘幂的结果。 number: 必需。 基数。 可为任意实数。 power: 必需。 基数乘幂运算的指数。 PRODUCT PRODUCT(number1, [number2], …) 函数使所有以参数形式给出的数字相乘并返回乘积。 当然，也可以直接相乘： 两种效果一样： SQRT SQRT(number) 返回正的平方根。 SUM SUM(number1, [number2], …) 函数使所有以参数形式给出的数字相加并返回和。 FIXED FIXED(number, [decimals]) 将数字舍入到指定的小数位数，以十进制数格式对该数进行格式设置，并以文本形式返回结果。 number: 必需。 要进行舍入并转换为文本的数字。 decimals: 可选。 小数点右边的位数。 RAND RAND() 返回大于等于 0 且小于 1 的均匀分布随机实数。每一次触发计算都会变化。 用法举例： 公式 含义 RAND() 大于等于0但小于1的一个非整数的随机数 RAND()*100 大于等于0小于100的一个非整数的随机数 RAND()*(b-a)+a 大于等于a但小于b的非整数的随机数 INT(RAND()*(b-a)+a) 大于等于a但小于b的随机数 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/日期函数.html":{"url":"基础设置/公式/日期函数.html","title":"日期函数","keywords":"","body":"日期函数 用于处理日期和时间的一系列函数方法。 日期时间控件返回的是ISODATE时间，换算为中国标准时间需要在ISODATE时间基础上加8小时： DATE DATE(timestamp) 将时间戳转换为日期对象。 * timestamp: 必需。时间戳。 DATE(year,month,day) DATE(year,month,day,hour,minute,second) 将年月日时分秒转换为日期对象。 year: 必需。年份。 month: 必需。月份。 day: 必需。天数。 hour: 必需。小时。 minute: 必需。分钟。 second: 必需。秒。例如，2015年11月1日的日期对象可以用如下表示： DATE(2015,11,1) DATE(1446307200000) DATE(2015,11,1,0,0,0) 这三个都表示“Sun Nov 01 2015 00:00:00 GMT+0800 (中国标准时间)” TIMESTAMP TIMESTAMP(date) 将日期对象转换成时间戳。 TODAY TODAY() 返回今天。 NOW NOW() 返回当前时间。与TODAY函数相同。 SYSTIME SYSTIME() 返回当前服务器时间。 即使客户端的时间被人为调整了，SYSTIME函数不受影响，获取的仍然是服务器时间。例如签到、打卡等场景下，可避免调整时间作弊的情况。 YEAR YEAR(date) 返回某日期的年份。 MONTH MONTH(date) 返回某日期的月份。 月份是介于 1 到 12 之间的整数。 DAY DAY(date) 返回某日期的天数。 天数是介于 1 到 31 之间的整数。 HOUR HOUR(date) 返回某日期的小时数。 与DAY和MONTH设置方式一样。 MINUTE MINUTE(date) 返回某日期的分钟数。 与DAY和MONTH设置方式一样。 SECOND SECOND(timestamp) 返回某日期的秒数。 与DAY和MONTH设置方式一样。 DAYS DAYS(end_date,start_date) 返回两个日期之间的天数差值。 HOURS HOURS(end_time,start_time) 返回两个小时之间的小时数。 与DYAS设置方式一样。 MINUTES MINUTES(end_date,start_date) 返回两个日期时间之间的分钟数。 与DYAS设置方式一样。 DAYS360 DAYS360(end_timestamp, start_timestamp, method) 按照一年 360 天的算法（每个月以 30 天计，一年共计 12 个月），DAYS360 函数返回两个日期间相差的天数，这在一些会计计算中将会用到。 如果财会系统是基于一年 12 个月，每月 30 天，可使用此函数帮助计算支付款项。 end_timestamp: 必需。结束日期。 start_timestamp: 必需。起始日期。 method: 可选。用于指定在计算中是采用美国方法还是欧洲方法。不填或false表示是美国方法，true表示是欧洲方法。 方法 定义 省略或false 美国（NASD）方法。如果起始日期是一个月的最后一天，则等于同月的30号。如果终止日期是一个月的最后一天，并且起始日期早于30号，则终止日期等于下一个月的1号，否则，终止日期等于本月的30号。 true 欧洲方法。如果起始日期和终止日期为某月的31号，则等于当月的30号。 QUARTER QUARTER(date) 返回日期date的所属季度，值为介于1到4的整数。 WEEKDAY WEEKDAY(date) 返回指定日期date为星期几。 WEEKNUM WEEKNUM(date) 返回一个数字，该数字代表指定日期date是一年中的第几周。 ADDDAY ADDDAY(date,days) 将指定日期（date）加/减指定天数（days）。 注：当为负数时在此date上减去此天数。 ADDMONTH ADDMONTH(date,months) 将指定日期(date)加/减指定月数(months)。 注：当为负数时在此date上减去此月数。 ADDYEAR ADDYEAR(date,years) 将指定日期加/减指定年数，date为指定日期，years为指定年数。 注：当为负数时在此date上减去此年数。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/公式/高级函数.html":{"url":"基础设置/公式/高级函数.html","title":"高级函数","keywords":"","body":"高级函数 用于获取表数据等的高级函数方法。 1. MAPX MAPX(operation, map_value, map_field, result_field) MAPX 函数是一个可以用来进行跨表单取数的高级函数。 当指定表单的map_field列的值为map_value时，返回result_field的所有值，然后根据指定的聚合操作operation得到对应的返回值。 operation: 必需。聚合操作。 map_value: 必需。条件字段值。即检索值 map_field: 必需。条件字段名。即检索范围 result_field:必需。字段返回值。 其中operation参数为字符串，可选值如下： 参数值 含义 first 获取返回值的第一个 last 获取返回值的最后一个 max 最大值 min 最小值 avg 平均值 sum 求和 count 获取返回值的个数 （1）跨表单含义 MAPX函数是一个“跨表单”函数。即其他所有函数都是在当前表单运算的函数，无法调用当前表单或者其他表单中已经提交的数据。MAPX函数可以在一定程度上弥补这样的不足。 跨表有两种情况： （1）同1张表单，录入时调用之前已经提交的数据。 （2）两张表单。A表录入数据时，调用B表单已经录入的数据。 （2）函数格式 MAPX(\"聚合操作\",检索值,检索范围,返回值) 整个计算过程为：在检索范围中，找到检索值对应的返回值，并对返回值进行聚合操作。 注意检索值来自当前表单中（蓝底），检索范围和返回值来自所有表单字段中的同一表单（绿底）。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"分配权限.html":{"url":"分配权限.html","title":"分配权限","keywords":"","body":"分配权限 成员可以通过数据协作，实现对数据的管理。 成员管理数据的权限有哪些，由管理员在后台配置。 1. 权限作用 给字段的操作权限加上成员范围，即设置谁可见，谁可编辑，这样就可以给不同的人设置不同的权限进行数据管理。 权限设置包括三个维度：操作权限、字段权限、数据权限。 就是对哪些数据的（数据权限）、哪些字段（字段权限）可以进行哪些管理操作（操作权限）。 比如对本人提交的数据中的（数据权限）、ABC字段（字段权限）可以进行修改（操作权限）。 2. 分配权限入口 表单设计并保存之后，在 基础设置 >> 分配权限 ，进行设置。 3. 设置流程 （1）选择部门成员 注意：右侧权限显示的是当前选中职责的权限！ （2）设置权限 4. 操作权限 （1）包括添加、查看、编辑、删除、导入。 （2）勾选了就有对应的权限，可以对数据进行相应的操作。 （3）选了任意的操作权限，查看都会自动勾选上，因为查看权限是前提。 （4）操作权限基于字段权限进行相应操作，例如普通员工无A字段权限，则在添加数据时，普通员工就看不到A字段，自然也无法提交A字段的数据。 5. 字段权限（列权限） （1）可见，可编辑。规定了对每一个字段的权限，是否可见、可编辑。 （2）在有查看、编辑的「操作权限」大前提下，「字段权限」决定了在管理数据时，到底是哪些字段可见，哪些字段可编辑。 （3）注意提交人，提交时间，更新时间这三个系统字段，只能选择是否可见，不可修改。(后期会实现) 6. 数据权限（行权限） （1）不设置任何条件，可管理范围是当前登陆人提交的数据。 （2）设置了条件之后，可管理范围是符合所有过滤条件的所有数据。 7. 普通表单和流程表单权限区别 以上均是以普通表单为例来描述的权限情况，流程表单权限配置基本一致。 但有如下区别： 缺少操作权限这个配置项。 流程表单的字段权限只会影响数据管理页的字段显示，而不会影响流程提交页及任务办理页面的字段显示。 流程提交页及任务办理页面中字段是否显示/可编辑由流程设计器中的字段权限控制。 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"基础设置/表单校验/表单校验.html":{"url":"基础设置/表单校验/表单校验.html","title":"表单校验","keywords":"","body":"表单校验 表单提交校验，只有满足校验条件，才能提交数据。 此功能还需要优化，等优化后再编写。 1.校验规则 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"函数专题.html":{"url":"函数专题.html","title":"函数专题","keywords":"","body":"函数专题 1. 数字转大写 在日常使用微表单中，很多场景下需要将录入的数字字段的值转换为大写，比如合同中的金额需要转成大写进行打印。 下面看下几种不同的数字转换大写的函数写法。 （1）数字转大写金额 在数字转大写的时候，通常有两种情况，一种是金额类数字转大写，一种是普通的数字转大写。 当金额类数字转大写时，需要用到的函数如下： CONCATENATE： 将多个文本字符串合并成一个文本字符串； [Num2]： 将数字转为中文大写。123显示为壹佰贰拾叁； IF： 判断条件，结果为true的返回值, 结果为false的返回值； INT(number)： 将数字向下舍入到最接近的整数； TEXT(num,text_format)： 将数字转换成特定格式的文本。 函数编写整体如下（含角分）： CONCAT(\"人民币\",IF(数字>=0,IF(INT(数字)-数字==0,TEXT(INT(数字),\"[Num2]\")+\"元\",IF(INT(数字*10)-数字*10==0,TEXT(INT(数字),\"[Num2]\")+\"元\"+TEXT(INT(数字*10)-INT(数字)*10,\"[Num2]\")+\"角\",TEXT(INT(数字),\"[Num2]\")+\"元\"+TEXT(INT(数字*10)-INT(数字)*10,\"[Num2]\")+\"角\"+TEXT(INT(数字*100)-INT(数字*10)*10,\"[Num2]\")+\"分\")),IF(INT(数字*-1)-数字*-1==0,\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元\",IF(INT(数字*10*-1)-数字*10*-1==0,\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元\"+TEXT(INT(数字*10*-1)-INT(数字*-1)*10,\"[Num2]\")+\"角\",\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元\"+TEXT(INT(数字*10*-1)-INT(数字*-1)*10,\"[Num2]\")+\"角\"+TEXT(INT(数字*100*-1)-INT(数字*10*-1)*10,\"[Num2]\")+\"分\")))) 函数编写整体如下（不含角分）： CONCAT(\"人民币\",IF(数字>=0,IF(INT(数字)-数字==0,TEXT(INT(数字),\"[Num2]\")+\"元整\",IF(INT(数字*10)-数字*10==0,TEXT(INT(数字),\"[Num2]\")+\"元\"+TEXT(INT(数字*10)-INT(数字)*10,\"[Num2]\")+\"角整\",TEXT(INT(数字),\"[Num2]\")+\"元\"+TEXT(INT(数字*10)-INT(数字)*10,\"[Num2]\")+\"角\"+TEXT(INT(数字*100)-INT(数字*10)*10,\"[Num2]\")+\"分整\")),IF(INT(数字*-1)-数字*-1==0,\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元整\",IF(INT(数字*10*-1)-数字*10*-1==0,\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元\"+TEXT(INT(数字*10*-1)-INT(数字*-1)*10,\"[Num2]\")+\"角整\",\"负\"+TEXT(INT(数字*-1),\"[Num2]\")+\"元\"+TEXT(INT(数字*10*-1)-INT(数字*-1)*10,\"[Num2]\")+\"角\"+TEXT(INT(数字*100*-1)-INT(数字*10*-1)*10,\"[Num2]\")+\"分整\")))) 公式中的金额指代的是表单中对应的字段，如复制公式需要将文本「数字」替换成字段值。 （2）数字转大写（不含小数点） 数字转大写在不含小数点时需要用到的公式为： TEXT(num,text_format)： 将数字转换成特定格式的文本。 函数编写整体如下： TEXT(数字,\"[Num2]\") 公式中的「数字」指代的是表单中对应的字段，如复制本公式需要将文本「数字」替换成字段值。 （3）数字转大写（含小数点） 数字转大写在含小数点时需要用到的公式为： CONCATENATE： 将多个文本字符串合并成一个文本字符串； SPLIT(text, text_separator)： 将文本按指定字符串分割成数组； TEXT(num,text_format)： 将数字转换成特定格式的文本。 函数编写整体如下： CONCAT(SPLIT(TEXT(数字,'[Num2]'),'.')[0],\"点\",SPLIT(TEXT(数字,'[Num2]'),'.')[1]) 公式中的「数字」指代的是表单中对应的字段，如复制公式需要将文本「数字」替换成字段值。 效果如下： 2. A是否包含B 在差旅费报销场景中，需要自动判断当前报销单据是否超标，而是否超标需要由多个情况汇总而得。 需要用到的函数如下： CONTAIN： 判断后面的值是否与前面值中的某一个相同。 SPLIT： 将字符串分割成数组。 CONTAIN(...args,target,trueVal,falseVal) 当 ...args 是字符串时（默认为字符串） 判断 target 是否与 ...args 完全相同，相同返回 trueVal ，否则返回 falseVal 。 当 ...args 是数组时 判断 target 是与 ...args 中某一个相同，相同返回 trueVal ，否则返回 falseVal 。 应用举例1： 文本类控件 应用举例2： 子表单中控件 3.公式生成流水号 表单自带流水号控件，为什么还要用公式来生成流水号呢？自带流水号控件在提交表单前，无法获取流水号，是通过后端接口获取的有顺序的数字。而公式生成的流水号是纯前端生成的，在打开表单的一瞬间，就能自动生成并展示。两者区别主要是以下两点：1.自带流水号控件生成的是有顺序的数字。2.公式流水号的优势是可以即时看到生成的流水号。 公式编辑如下： CONCAT(\"CRM\",TEXT(DATE(TODAY()),\"yyyyMMdd\"),\"-\",TEXT(RAND(4)*10000,\"0000\")) Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-25 "},"第三方系统.html":{"url":"第三方系统.html","title":"第三方系统","keywords":"","body":"第三方系统 1. 作用 第三方系统主要是用来获取Token,并将Token作为第三方数据源的令牌向该系统请求数据。 2. 入口 第三方系统是微表单非必备功能模块，如确需使用，请向本项目负责人申请，由本项目相关人员提供该功能模块入口。 3. 新增 （1）新增入口 （2）自定义系统名称 （3）添加URL 按照接口文档，将相应信息填入对应位置。这里需要注意的是 名称 和 键名 键名 填写规则如下： 如需要获取的Token为第一层数据，则直接填写需要获取的Token名称（Token1）； 如需要获取的Token为非第一层数据，则需填写路径，并以“.”来作为连接符（第三层的Token是 Data.child.Token3）。 接口信息填写完整之后，点击 【测试连接】 ，如果返回值为正确值，则此RUL填写正确： Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-08 "},"业务规则.html":{"url":"业务规则.html","title":"业务规则","keywords":"","body":"业务规则 1. 作用 内部推送 A表新增/修改/删除数据，通过业务规则设定，可以对B表进行新增/修改/删除数据 外部推送 A表新增/修改/删除数据，通过业务规则设定，可以将数据推送到指定的第三方数据源（接口） 2. 入口 表单设计并保存之后，在 基础设置 >> 业务规则 ，进行设置。 3. 业务规则推送 （1）触发动作 触发动作有三种类型： 新增数据 修改数据 删除数据 以上三类设定方式类似，仅以 新增数据 来详细说明： 添加触发条件 选中表单某个控件，然后设定该控件满足某个条件。 这里可以设定多个触发条件，只有同时满足所有条件才能成功触发推送动作。 （2）内部推送 执行动作有四类： 新增数据 修改已有数据 删除已有数据 修改或新增数据 以上四类设定方式类似，仅以 新增数据 来详细说明： 完成以上触发动作及执行动作的设定后，表单推送效果如下： （3）外部推送 外部推送功能主要是将在微表单维护的数据推送到指定的接口，使第三方系统可以和微表单共享数据。 在设定 外部推送 之前，需要先将第三方系统提供的接口按接口文档的要求维护进微表单。维护步骤请参见 「数据源管理」 然后在 业务规则推送 中选择 外部推送 ： 设置推送字段： Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-09 "},"接口文档/接口文档.html":{"url":"接口文档/接口文档.html","title":"接口文档","keywords":"","body":"微表单开放接口 这里均为微表单系统提供的开发者接口。 接口列表： 根据表名及字段名查询数据 根据模板Id及条件获取数据 根据流程Id获取数据 Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-20 "},"接口文档/QueryTableExternal.html":{"url":"接口文档/QueryTableExternal.html","title":"根据表名及字段名查询数据","keywords":"","body":"根据表名及字段名查询单表数据 QueryTableExternal 简要描述： 根据表名及字段名查询单表数据 请求URL： [FormEngine]/Api/FormInstance/QueryTableExternal 请求方式： POST Header参数： 参数名 必选 类型 说明 枚举项 Content-Type 是 string 请求类型 application/json 参数： 参数名 必选 类型 说明 枚举项 TableName 是 string 表名(UTb...) FieldNames 是 array 字段名(fld...) Conditions array 字段条件 字段条件的属性 参数名 必选 类型 说明 枚举项 Field 是 string 字段名 Mark 是 string 拼接后的条件 参数示例： { \"TableName\": \"UTb202001171412761115048135\", \"FieldNames\": [ \"fld20200117141237720458154\", \"fld202001171412372076795724\" ], \"Conditions\":[ { \"Field\": \"fld20200117141237720458154\", \"Mark\": \"{0} like '%cesh%'\" }, { \"Field\": \"fld202001171412372076795724\", \"Mark\": \"{0} = 'ceshi13'\" } ] } 返回参数： 参数名 必选 类型 说明 枚举项 tableName 是 string 表名 formData 是 object 表单数据 返回示例： { \"tableName\": \"UTb202001171412761115048135\", \"data\": [ { \"fld20200117141237720458154\": \"ceshi123\", \"fld202001171412372076795724\": \"ceshi13\" }, { \"fld20200117141237720458154\": \"ceshi1\", \"fld202001171412372076795724\": \"ceshi13\" } ] } Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-20 "},"接口文档/QueryTableTreeByTemplateId.html":{"url":"接口文档/QueryTableTreeByTemplateId.html","title":"根据模板Id及条件获取数据","keywords":"","body":"根据表单模板Id及条件获取对应全部数据(树形) QueryTableTreeByTemplateId 简要描述： 根据表单模板Id及条件获取对应全部数据 请求URL： [FormEngine]/Api/FormInstance/QueryTableTreeByTemplateId 请求方式： POST Header参数： 参数名 必选 类型 说明 枚举项 Content-Type 是 string 请求类型 application/json 参数： 参数名 必选 类型 说明 枚举项 Id 是 string 表单模板Id FormInstanceIds array 表单实例Ids Conditions array 字段条件 PageIndex int 页码 1 PageSize int 每页条数 100 字段条件的属性 参数名 必选 类型 说明 枚举项 Field 是 string 字段名 Mark 是 string 拼接后的条件 FormCode 是 string 字段所在表名 参数示例： { \"Id\":\"fcabd43f-4ee0-4b4a-c44e-fe3bda7c8a7c\", \"FormInstanceIds\":[\"2cfacdfc-3e60-0cad-3816-f49839d097ed\",\"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\"], \"Conditions\":[ { \"Field\": \"fld202002102219471074117624\", \"Mark\": \"{0} like '%ceshi1%'\", \"FormCode\": \"UTb20200210221929143188116\" }, { \"Field\": \"fld20200210221947759905542\", \"Mark\": \"{0} = 'ceshi13'\", \"FormCode\": \"UTb20200210221929534835853\" } ] \"PageIndex\":\"1\", \"PageSize\":\"100\" } 返回参数： 参数名 必选 类型 说明 枚举项 formInstanceId string 表单实例Id formData object 表单数据 返回示例： [ { \"formInstanceId\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\", \"formData\": { \"UTb20200109180322143816054\": [ { \"fld20200109180392174021969\": \"测试数据321\", \"fld20200109180392316312915\": \"测试数据123\", \"fld20200109180392282945163\": \"71129cdc-1719-dcd8-0299-9261854965b6\" }, { \"fld20200109180392174021969\": \"测试数据321\", \"fld20200109180392316312915\": \"测试数据123\", \"fld20200109180392282945163\": \"feb347f1-8671-28d8-b084-ceae09118a7b\" }, { \"fld20200109180392174021969\": \"测试数据321\", \"fld20200109180392316312915\": \"测试数据123\", \"fld20200109180392282945163\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\" } ], \"children\": [ { \"UTb202001091803221223428058\": [ { \"fld202001091803921038618895\": \"0e3a9e78-9778-2925-cba8-9fa0b86ba7f3\", \"fld202001091803921138232976\": \"测试数据11\", \"fld2020010918039264760061\": \"测试数据22\", \"fld20200109180392582102998\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\", \"fld202001091803921369122010\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\" }, { \"fld202001091803921038618895\": \"da253fe4-231b-be5b-cd28-470a6d6cfbb1\", \"fld202001091803921138232976\": \"测试数据33\", \"fld2020010918039264760061\": \"测试数据44\", \"fld20200109180392582102998\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\", \"fld202001091803921369122010\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\" } ], \"UTb202001091803221718724732\": [ { \"fld202001091803921320883603\": \"测试数据55\", \"fld202001091803921000083809\": \"ad177d57-24e2-febf-7b6a-c646b78bf220\", \"fld202001091803921340641449\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\", \"fld202001091803921023233435\": \"测试数据66\", \"fld20200109180392303708456\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\" }, { \"fld202001091803921320883603\": \"测试数据77\", \"fld202001091803921000083809\": \"ee2a6782-3d1c-8c5a-c570-49f28a6f9e5d\", \"fld202001091803921340641449\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\", \"fld202001091803921023233435\": \"测试数据88\", \"fld20200109180392303708456\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\" }, { \"fld202001091803921320883603\": \"测试数据99\", \"fld202001091803921000083809\": \"544932ad-7ff0-ee79-66c3-0167cbbe8b3a\", \"fld202001091803921340641449\": \"a31495c7-c77d-74a9-4776-8bf5acb4a29d\", \"fld202001091803921023233435\": \"测试数据1100\", \"fld20200109180392303708456\": \"49d3437c-3d44-52ab-ffc9-4cfbc356a56e\" } ] } ] } }, { \"formInstanceId\": \"2cfacdfc-3e60-0cad-3816-f49839d097ed\", \"formData\": { \"UTb20200109180322143816054\": [ { \"fld20200109180392174021969\": \"测试数据321\", \"fld20200109180392316312915\": \"测试数据321\", \"fld20200109180392282945163\": \"536a5606-41c0-125f-7c40-4238273a748b\" }, { \"fld20200109180392174021969\": \"测试数据321\", \"fld20200109180392316312915\": \"测试数据321\", \"fld20200109180392282945163\": \"a0e3221f-01f9-23b3-5330-24aaca61d08f\" } ], \"children\": [ { \"UTb202001091803221223428058\": [ { \"fld202001091803921038618895\": \"d6672635-a645-e4f6-d091-2b2d0b74ddce\", \"fld202001091803921138232976\": \"测试数据01\", \"fld2020010918039264760061\": \"测试数据02\", \"fld20200109180392582102998\": \"536a5606-41c0-125f-7c40-4238273a748b\", \"fld202001091803921369122010\": \"2cfacdfc-3e60-0cad-3816-f49839d097ed\" } ] } ] } } ] Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-20 "},"接口文档/QueryTableTreeByWorkFlowId.html":{"url":"接口文档/QueryTableTreeByWorkFlowId.html","title":"根据流程Id获取数据","keywords":"","body":"根据流程Id获取对应实例下全部数据(树形) QueryTableTreeByWorkFlowId 简要描述： 根据流程Id获取对应实例下全部数据 请求URL： [FormEngine]/Api/FormInstance/QueryTableTreeByWorkFlowId 请求方式： POST Header参数： 参数名 必选 类型 说明 枚举项 Content-Type 是 string 请求类型 application/json 参数： 参数名 必选 类型 说明 枚举项 EntityId 是 string 流程Id 参数示例： {\"EntityId\":\"ec76b10f0c5f44f39bc3f2e02d5e9275\"} 返回参数： 参数名 必选 类型 说明 枚举项 formInstanceId string 表单实例Id formTemplateId string 表单模板Id voucherTemplateId string (预留暂不用) formData object 表单数据 isValid bool 查询状态 返回示例： { \"formInstanceId\": \"d40d241a-b2e4-d813-d59d-8a01507ff9db\", \"formTemplateId\": \"fcabd43f-4ee0-4b4a-c44e-fe3bda7c8a7c\", \"voucherTemplateId\": null, \"formData\": { \"UTb201912251002151044565960\": [ { \"fld201912251002431009464447\": 0.0, \"fld20191225143636684453953\": \"否\", \"fld201912251002431925994164\": \"2020-02-12 16:59:51\", \"fld20191225100243634507039\": 0.0, \"fld202001131558241656367819\": null, \"fld201912251002431112990249\": \"b7f1aae0-e949-4a9f-8f90-18003e618be6, \"fld201912251002431365847127\": 0.0, \"fld201912251002431548418545\": \"83503819-cbfa-2e96-96c8-c43a28b917ad\", \"fld20200113155824355479152\": null, \"fld201912251002431336653408\": 0.0, \"fld20191225100243103496640\": null, \"fld201912251002431398274992\": \"铁物, \"fld201912251002431808263502\": \"中国铁路物资集团有限公司\", \"children\": [ { \"UTb201912251013391838295433\": [ { \"fld20200106102332683264964\": \"是\", \"fld20191225101369601913634\": \"物贸财务部\", \"fld201912251018851547227422\": 34.0, \"fld201912251013691019465766\": \"刘世佳\", } ] } ] } ] }, \"id\": null, \"sortIndex\": 0, \"userId\": null, \"createUserId\": null, \"companyId\": null, \"userName\": null, \"createUserName\": null, \"email\": null, \"orgId\": null, \"token\": null, \"isValid\": true, \"errorMessages\": null, \"remark\": null, \"operationStatus\": 0 } Copyright © cd.sysdsoft.cn:4000 all right reserved，powered by sysdsoft修订时间： 2020-02-20 "}}